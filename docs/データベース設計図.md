# DB設計書SEG1

### データベース名: shiftapp_db
---
### 改版履歴
|発行日|版数|改版内容|
|:--|:--|:--|
|2021/11/23|1.0|初版|

---

### テーブル一覧

<br>


<br>

テーブル名:user
|項目名|型|長さ|主キー|NULL|制約|概要|備考|
|:--|:--|:--|:--|:--|:--|:--|:--|
|user_id|varchar|15|YES|NO|半角英数字のみ（6文字以上15文字以下）|ユーザーID|	重複なし|
|password|varchar|64|NO|NO|8文字以上15文字以下の文字列	半角英数字のみで構成され、英字・数字をそれぞれ1つ以上含む|パスワード|ハッシュ化したもの|

<br>

テーブル名:students
|項目名|型|長さ|主キー|NULL|制約|概要|備考|
|:--|:--|:--|:--|:--|:--|:--|:--|
|student_id|varchar|15|YES|NO|半角英数字のみ（6文字以上15文字以下）|生徒ID|重複なし 児童・生徒を一意に決める文字列|
|gender|integer||NO|NO|1:男 2:女 3:その他|性別|女、男、その他から選択.席では女は赤、男は青,その他は灰色の背景になる|
|name|varchar|20|NO|NO|1文字以上20文字以下|氏名||
|user_id|varchar|15|NO|NO|半角英数字のみ（6文字以上15文字以下)|ユーザーID||


テーブル名：classes
|項目名|型|長さ|主キー|NULL|制約|概要|備考|
|:--|:--|:--|:--|:--|:--|:--|:--|
|class_id|integer||YES|NO||クラスID|
|name|varchar|20|NO|NO|1文字以上20文字以下|クラス名|
|year|integer||NO|NO|数字4桁|年度|
|user_id|varchar|15|NO|NO|半角英数字のみ（6文字以上15文字以下)|ユーザーID||


テーブル名：members
|項目名|型|長さ|主キー|NULL|制約|概要|備考|
|:--|:--|:--|:--|:--|:--|:--|:--|
|members_id|integer||YES|NO|||
|class_id|integer||NO|NO||クラスID||
|student_id|varchar|15|NO|NO|半角英数字のみ（6文字以上15文字以下）|生徒ID|


テーブル名：seating_arrangement_info
|項目名|型|長さ|主キー|NULL|制約|概要|備考|
|:--|:--|:--|:--|:--|:--|:--|:--|
|seating_arrangement_info_id|integer||YES|NO||座席配置情報ID|
|class_id|integer||NO|NO||クラスID|
|start_date|date||NO|NO|月と日付|開始期間|
|end_date|date||NO|YES|月と日付|終了期間|
|name|varchar|20|NO|YES|0文字以上20文字以下の文字列|座席配置名||

テーブル名：seating_arrangement
|項目名|型|長さ|主キー|NULL|制約|概要|備考|
|:--|:--|:--|:--|:--|:--|:--|:--|
|seating_arrangement_id|integer||YES|NO||座席配置ID||
|seating_arrangement_info_id|integer||NO|NO||座席配置情報ID|
|student_id|varchar|15|NO|NO|半角英数字のみ（6文字以上15文字以下）|生徒ID|
|seat|integer||NO|NO|行・列の順に2桁の数値|座席|


テーブル名：grades
|項目名|型|長さ|主キー|NULL|制約|概要|備考|
|:--|:--|:--|:--|:--|:--|:--|:--|
|grades_id|integer||YES|NO||評価ID|
|student_id|varchar||NO|NO|半角英数字のみ（6文字以上15文字以下|生徒ID|
|lesson_id|integer||NO|NO||授業ID|
|attendance|integer||NO|NO|0:欠席1:出席|出欠|
|red|integer||NO|YES|1:A 2:B 3:C|観点１|
|green|integer||NO|YES|1:A 2:B 3:C|観点２|
|blue|integer||NO|YES|1:A 2:B 3:C|観点３|
|comment|varchar|400|NO|YES|0文字以上400文字以下の文字列|評価のコメント|生徒個人の評価|
|seat|integer||NO|NO|行・列の順に2桁の数値|座席||


テーブル名：lesson
|項目名|型|長さ|主キー|NULL|制約|概要|備考|
|:--|:--|:--|:--|:--|:--|:--|:--|
|lesson_id|integer||YES|NO||授業ID|
|created_date|date||NO|NO||作成日|
|lesson_date|date||NO|NO||授業日||
|period_num|integer||NO|NO||時限|1~6限を想定|
|comment|varchar||NO|NO|0文字以上400文字以下の文字列|評価のコメント|授業コメント|授業全体へのコメント|



